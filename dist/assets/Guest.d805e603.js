import"./vendor.3b4a458a.js";/* empty css             *//* empty css                     *//* empty css                 */import{g as e,d as a,s as t,o as l,m as s,f as o,w as r,V as n,Q as c,u as i,O as u,P as p,r as g,j as d,N as m,E as f,c as b,a as S,q as h,R as _,J as k,W as j,K as v,S as y,T as P}from"./index.5a9a60f4.js";/* empty css              *//* empty css               *//* empty css                  */const w={__name:"Table",props:{action:String},setup(g,{expose:d}){const m=g,f=i(),{goTop:b}=f.appContext.config.globalProperties,S=e({loading:!1,tableData:[],total:0,currentPage:1,pageSize:10,multipleSelection:[]});a((()=>{h()}));const h=()=>{S.loading=!0,t.get(m.action,{params:{pageNumber:S.currentPage,pageSize:S.pageSize}}).then((e=>{S.tableData=e.list,S.total=e.totalCount,S.currentPage=e.currPage,S.loading=!1,b&&b()}))},_=e=>{S.multipleSelection=e},k=e=>{S.currentPage=e,h()};return d({state:S,getList:h}),(e,a)=>{const t=u,i=p;return l(),s(c,null,[o(t,{load:S.loading,data:S.tableData,"tooltip-effect":"dark",style:{width:"100%"},onSelectionChange:_},{default:r((()=>[n(e.$slots,"column")])),_:3},8,["load","data"]),o(i,{background:"",layout:"prev, pager, next",total:S.total,"page-size":S.pageSize,"current-page":S.currentPage,onCurrentChange:k},null,8,["total","page-size","current-page"])],64)}}},C={class:"header"},x={__name:"Guest",setup(e){let a=g(null);const s=()=>{a.value.state.multipleSelection.length?t.put("/users/0",{ids:a.value.state.multipleSelection.map((e=>e.userId))}).then((()=>{v.success("解除成功"),a.value.getList()})):v.error("请选择项")},n=()=>{a.value.state.multipleSelection.length?t.put("/users/1",{ids:a.value.state.multipleSelection.map((e=>e.userId))}).then((()=>{v.success("禁用成功"),a.value.getList()})):v.error("请选择项")};return(e,t)=>{const c=d,i=m,u=f;return l(),b(u,{class:"guest-container"},{header:r((()=>[S("div",C,[o(c,{type:"primary",icon:_(y),onClick:s},{default:r((()=>[h("解除禁用")])),_:1},8,["icon"]),o(c,{type:"danger",icon:_(P),onClick:n},{default:r((()=>[h("禁用账户")])),_:1},8,["icon"])])])),default:r((()=>[o(w,{action:"/users",ref_key:"table",ref:a},{column:r((()=>[o(i,{type:"selection",width:"55"}),o(i,{prop:"nickName",label:"昵称"}),o(i,{prop:"loginName",label:"登录名"}),o(i,{label:"身份状态"},{default:r((e=>[S("span",{style:j(0==e.row.lockedFlag?"color: green;":"color: red;")},k(0==e.row.lockedFlag?"正常":"禁用"),5)])),_:1}),o(i,{label:"是否注销"},{default:r((e=>[S("span",{style:j(0==e.row.lockedFlag?"color: green;":"color: red;")},k(0==e.row.isDeleted?"正常":"注销"),5)])),_:1}),o(i,{prop:"createTime",label:"注册时间"})])),_:1},512)])),_:1})}}};export{x as default};
